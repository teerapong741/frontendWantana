<loading *ngIf="loading"></loading>
<div class="container flex justify-content-around">
  <div class="card shadow-4">
    <h3>จำนวนผ้าที่รับมาทั้งหมด</h3>
    <h1 style="color: goldenrod">{{ totalClothes }}</h1>
  </div>
  <div class="card shadow-4">
    <h3>จำนวนลูกค้าที่รับมาทั้งหมด</h3>
    <h1 style="color: goldenrod">{{ totalCustomer }}</h1>
  </div>
  <div class="card shadow-4">
    <h3>ออเดอร์ที่ค้างอยู่</h3>
    <h1 style="color: red">{{ totalProblem }}</h1>
  </div>
  <div class="card shadow-4">
    <h3>จำนวนผ้าที่เสร็จแล้วทั้งหมด</h3>
    <h1 style="color: rgb(13, 207, 13)">{{ totalSuccess }}</h1>
  </div>
</div>
<div class="container-card shadow-4">
  <h1 class="mb-5">รายการรับผ้าวันนี้</h1>
  <p-table
    [value]="orders"
    responsiveLayout="stack"
    [rows]="10"
    styleClass="p-datatable-lg"
    [paginator]="true"
  >
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th>ลำดับ</th>
        <th>วันที่</th>
        <th>ลูกค้า</th>
        <th>สถานะ</th>
        <th>จำนวนผ้าที่ยังไม่ได้ส่ง</th>
      </tr>
    </ng-template>
    <ng-template
      pTemplate="body"
      let-order
      let-index="rowIndex"
      let-columns="columns"
    >
      <tr>
        <td><span class="p-column-title">ลำดับ</span>{{ index + 1 }}</td>
        <td>
          <span class="p-column-title">วันที่</span
          >{{ order.created_at | thaidate: "short" }}
        </td>
        <td>
          <span class="p-column-title">ลูกค้า</span
          >{{ order.customer.firstName + " " + order.customer.lastName }}
        </td>
        <td>
          <span class="p-column-title">สถานะ</span>
          <p-tag
            styleClass="mr-2 font-bold"
            [style]="{
              'font-size': '14px',
              padding: '.2rem .5rem .2rem .5rem '
            }"
            [severity]="order.status === 'IN' ? 'success' : 'warning'"
            [value]="order.status === 'IN' ? 'อยู่ในระบบ' : 'นำส่งแล้ว'"
            [rounded]="true"
          ></p-tag>
        </td>
        <td>
          <span class="p-column-title">จำนวนผ้าที่ยังไม่ได้ส่ง</span
          >{{ order.numClothe }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
